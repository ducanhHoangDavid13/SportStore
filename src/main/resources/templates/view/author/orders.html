<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:fragment="head-links">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">

        <link rel="stylesheet" th:href="@{/css/styles.css}">
        <link rel="stylesheet" th:href="@{/css/header.css}">
    </div>
    <title>Đơn hàng của tôi</title>
    <style>
        .account-page-wrapper { background-color: #f8f9fa; padding: 40px 0; }
        .main-content-panel { background-color: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.06); }
        .order-search-bar .form-control { padding-left: 40px; border-radius: 50px; }
        .order-search-bar .search-icon { position: absolute; top: 50%; left: 15px; transform: translateY(-50%); color: #6c757d; }
        .order-status-tabs { border-bottom: 2px solid #dee2e6; overflow-x: auto; white-space: nowrap; }
        .order-status-tabs .nav-link { border: none; color: #495057; padding: 12px 0; margin: 0 20px; font-weight: 500; position: relative; background-color: transparent !important; }
        .order-status-tabs .nav-link.active { color: #e5101d; font-weight: 700; }
        .order-status-tabs .nav-link::after { content: ''; position: absolute; bottom: -2px; left: 0; width: 0; height: 3px; background-color: #e5101d; transition: width 0.3s ease; }
        .order-status-tabs .nav-link.active::after, .order-status-tabs .nav-link:hover::after { width: 100%; }
        .order-card { background-color: #fff; border: 1px solid #dee2e6; border-radius: 12px; margin-bottom: 20px; transition: box-shadow 0.3s ease; }
        .order-card:hover { box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .order-card-header { padding: 15px 20px; background-color: #f8f9fa; border-bottom: 1px solid #dee2e6; display: flex; justify-content: space-between; align-items-center; }
        .order-id { font-weight: 700; }
        .order-status { font-weight: 700; padding: 4px 10px; border-radius: 50px; font-size: 0.8rem; }
        .status-completed { color: #198754; background-color: rgba(25, 135, 84, 0.1); }
        .status-processing { color: #0dcaf0; background-color: rgba(13, 202, 240, 0.1); }
        .status-shipping { color: #ffc107; background-color: rgba(255, 193, 7, 0.1); }
        .status-cancelled { color: #6c757d; background-color: rgba(108, 117, 125, 0.1); }
        .product-item { display: flex; align-items: center; border-bottom: 1px dashed #dee2e6; padding-bottom: 15px; margin-bottom: 15px; }
        .product-item:last-child { border-bottom: none; padding-bottom: 0; margin-bottom: 0; }
        .product-image { width: 70px; height: 70px; border-radius: 8px; object-fit: cover; margin-right: 15px; }
        .product-info .product-name { font-weight: 600; display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }
        .product-info .product-qty { color: #6c757d; font-size: 0.9rem; }
        .product-price { margin-left: auto; font-weight: 600; }
        .order-card-footer { padding: 15px 20px; background-color: #f8f9fa; border-top: 1px solid #dee2e6; text-align: right; }
        .total-amount { font-size: 1.1rem; font-weight: 700; }
        .total-amount span { color: #e5101d; }
        .empty-orders-placeholder { text-align: center; padding: 80px 20px; background-color: #f8f9fa; border-radius: 16px; }
        .empty-orders-placeholder img { max-width: 150px; margin-bottom: 20px; }
        .btn-discover-now { background-color: #e5101d; border-color: #e5101d; padding: 12px 30px; font-weight: 600; border-radius: 50px; }
        .btn-discover-now:hover { background-color: #c40e18; border-color: #c40e18; }
    </style>
</head>
<body>
<header th:replace="~{library/header :: header}"></header>

<div class="account-page-wrapper">
    <div class="container" style="max-width: 1200px;">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-lg-3">
                <div th:replace="~{/library/hosoUser :: account-sidebar(activePage='orders')}"></div>
            </div>

            <!-- Main Content -->
            <div class="col-lg-9">
                <div class="main-content-panel">
                    <div class="d-flex flex-column flex-md-row justify-content-between align-items-center mb-4">
                        <h3 class="fw-bold mb-3 mb-md-0">Đơn Hàng Của Tôi</h3>
                        <div class="order-search-bar w-100 w-md-50 position-relative">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" class="form-control" placeholder="Tìm theo mã đơn hàng...">
                        </div>
                    </div>

                    <ul class="nav order-status-tabs mb-4" id="orderTabs" role="tablist">
                        <li class="nav-item" role="presentation"><button class="nav-link active">Tất cả</button></li>
                        <li class="nav-item" role="presentation"><button class="nav-link">Đang xử lý</button></li>
                        <li class="nav-item" role="presentation"><button class="nav-link">Đang giao</button></li>
                        <li class="nav-item" role="presentation"><button class="nav-link">Hoàn thành</button></li>
                        <li class="nav-item" role="presentation"><button class="nav-link">Đã hủy</button></li>
                    </ul>

                    <div class="tab-content" id="orderTabsContent">
                        <div class="tab-pane fade show active">
                            <!-- MẪU 1: KHI CÓ ĐƠN HÀNG -->
                            <div class="order-card">
                                <!-- ... (Nội dung card đơn hàng mẫu như câu trả lời trước) ... -->
                            </div>

                            <!-- MẪU 2: KHI CHƯA CÓ ĐƠN HÀNG -->
                            <div class="empty-orders-placeholder">
                                <img th:src="@{/image/empty-box.png}" alt="Empty Box">
                                <h5 class="mt-4 mb-3 fw-bold">Bạn chưa có đơn hàng nào</h5>
                                <p class="text-muted">Hãy bắt đầu mua sắm để lấp đầy giỏ hàng của bạn nhé!</p>
                                <a th:href="@{/san-pham}" class="btn btn-danger btn-discover-now mt-3">
                                    <i class="fas fa-shopping-bag me-2"></i> Mua sắm ngay
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<footer th:replace="~{/library/footer :: footer}"></footer>
<div th:replace="~{/library/footer :: scripts}"></div>

</body>
</html>