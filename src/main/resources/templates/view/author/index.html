<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
  <div th:fragment="head-links">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/footer.css}">
  </div>

  <!-- CSS dành riêng và tối ưu cho trang chủ -->
<style>
  /* ======================= 1. GLOBAL, HEADER, FOOTER STYLES ======================= */
  /* === BIẾN MÀU SẮC CHUNG === */
  :root {
    --primary-font: 'Poppins', sans-serif;
    --secondary-font: 'Lato', sans-serif;
    --bg-color: #ffffff; /* Nền trắng cho trang sản phẩm */
    --text-color: #212529;
    --accent-color: #0d6efd; /* Bootstrap Primary Blue for consistency */
    --accent-hover-color: #0b5ed7;
    --gray-color: #6c757d;
    --white-color: #ffffff;
    --footer-bg: #343a40;
    --border-color: #dee2e6;
    --sale-color: #dc3545;
    --shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
  }

  /* === CẤU TRÚC CHUNG === */
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: var(--secondary-font);
    background-color: var(--bg-color);
    color: var(--text-color);
    line-height: 1.6;
  }
  h1, h2, h3, h4, h5, h6 { font-family: var(--primary-font); font-weight: 600; }
  a { text-decoration: none; color: inherit; transition: color 0.3s ease; }
  ul { list-style: none; }
  .container, .container-fluid { max-width: 1400px; }

  /* === HEADER === */
  .header {
    background-color: var(--white-color);
    box-shadow: var(--shadow);
    padding: 15px 0;
    position: sticky;
    top: 0;
    z-index: 1000;
  }
  .header-container { display: flex; justify-content: space-between; align-items: center; max-width: 1400px; margin: 0 auto; padding: 0 15px;}
  .header-logo { font-family: var(--primary-font); font-size: 1.8rem; font-weight: 700; color: var(--accent-color); }
  .main-nav ul { display: flex; gap: 30px; }
  .main-nav a { font-family: var(--primary-font); font-weight: 500; font-size: 1rem; padding: 5px 0; position: relative; }
  .main-nav a::after { content: ''; position: absolute; bottom: -2px; left: 0; width: 0; height: 2px; background-color: var(--accent-color); transition: width 0.3s ease; }
  .main-nav a:hover::after, .main-nav a.active::after { width: 100%; }
  .header-actions { display: flex; align-items: center; gap: 20px; }
  .action-icon { font-size: 1.2rem; position: relative; color: var(--text-color); }
  .action-icon:hover { color: var(--accent-color); }
  .cart-count { position: absolute; top: -8px; right: -10px; background-color: var(--sale-color); color: var(--white-color); width: 20px; height: 20px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 0.75rem; font-weight: bold; }
  .logout-form { display: inline; }
  .logout-btn { background: none; border: none; cursor: pointer; padding: 0; }

  /* === FOOTER === */
  .footer { background-color: var(--footer-bg); color: #adb5bd; padding: 60px 0 20px; }
  .footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 40px; margin-bottom: 40px; }
  .footer-col h4 { color: var(--white-color); font-size: 1.2rem; margin-bottom: 20px; }
  .footer-logo { font-family: var(--primary-font); font-size: 1.8rem; font-weight: 700; color: var(--white-color); }
  .footer-col p { font-size: 0.9rem; line-height: 1.8; }
  .footer-col ul li { margin-bottom: 12px; }
  .footer-col ul a:hover { color: var(--white-color); padding-left: 5px; }
  .social-icons { margin-top: 20px; display: flex; gap: 15px; }
  .social-icons a { color: #adb5bd; font-size: 1.2rem; }
  .social-icons a:hover { color: var(--accent-color); }
  .newsletter-form { margin-top: 20px; display: flex; }
  .newsletter-form input { flex-grow: 1; padding: 10px; border: 1px solid var(--gray-color); border-radius: 5px 0 0 5px; background-color: #495057; color: var(--white-color); border-right: none; }
  .newsletter-form button { padding: 10px 15px; border: none; background-color: var(--accent-color); color: var(--white-color); border-radius: 0 5px 5px 0; cursor: pointer; font-weight: 500; }
  .footer-bottom { border-top: 1px solid var(--gray-color); padding-top: 20px; text-align: center; font-size: 0.9rem; }

  /* ==================================== */
  /* === 2. CSS CHO TRANG SẢN PHẨM (PLP) === */
  /* ==================================== */
  .container-section { padding: 40px 20px; max-width: 1400px; margin: 0 auto; }
  .plp-page-title { font-size: 1.8rem; font-weight: 800; color: var(--text-color); margin-bottom: 20px; padding-top: 20px; }
  .plp-sort-bar { display: flex; justify-content: flex-end; align-items: center; gap: 10px; margin-bottom: 20px; padding: 10px 0; border-bottom: 1px solid #eee; }
  .plp-sort-bar select { width: 150px; height: 35px; font-size: 0.85rem; }
  .sort-text { color: #666; font-weight: 500; }

  /* --- BỘ LỌC SIDEBAR (THAY ĐỔI NHIỀU NHẤT) --- */
  .filter-sidebar { background-color: #f8f8f8; padding: 20px; border-radius: 8px; border: 1px solid #eee; }
  @media (min-width: 992px) { .filter-sidebar { position: sticky; top: 100px; } }
  .filter-sidebar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 5px; border-bottom: 1px dashed #ddd; }
  .filter-sidebar-header h5 { margin-bottom: 0; font-weight: 700; }
  .reset-filter-btn { border: none; background: transparent; color: var(--text-color); font-size: 1.1rem; cursor: pointer; transition: transform 0.2s, color 0.2s; padding: 5px; }
  .reset-filter-btn:hover { color: var(--accent-color); transform: rotate(15deg); }
  .filter-group-item { margin-bottom: 20px; }
  .filter-group-item label.form-label { font-weight: 600; margin-bottom: 10px; display: block; font-size: 0.95rem; color: #555; }

  /* --- CUSTOM CHECKBOX & RADIO --- */
  .filter-options-list {
    max-height: 200px;
    overflow-y: auto;
    padding-right: 10px;
  }
  .filter-option {
    display: block;
    position: relative;
    padding-left: 30px;
    margin-bottom: 10px;
    cursor: pointer;
    font-size: 0.9rem;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  .filter-option input { position: absolute; opacity: 0; cursor: pointer; height: 0; width: 0; }
  .checkmark {
    position: absolute;
    top: 0;
    left: 0;
    height: 20px;
    width: 20px;
    background-color: #eee;
    border: 1px solid #ccc;
    transition: all 0.2s;
  }
  .filter-option:hover input ~ .checkmark { background-color: #ccc; }
  .filter-option input:checked ~ .checkmark { background-color: var(--accent-color); border-color: var(--accent-color); }
  .checkmark:after { content: ""; position: absolute; display: none; }
  .filter-option input:checked ~ .checkmark:after { display: block; }

  /* Checkbox checkmark */
  .filter-option .checkmark.checkbox:after {
    left: 6px;
    top: 2px;
    width: 5px;
    height: 10px;
    border: solid white;
    border-width: 0 3px 3px 0;
    -webkit-transform: rotate(45deg);
    -ms-transform: rotate(45deg);
    transform: rotate(45deg);
  }
  .filter-option .checkmark.checkbox { border-radius: 4px; }

  /* Radio checkmark */
  .filter-option .checkmark.radio { border-radius: 50%; }
  .filter-option .checkmark.radio:after {
    top: 5px;
    left: 5px;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: white;
  }

  /* --- CARD SẢN PHẨM --- */
  .product-list-card {
    border-radius: 8px;
    overflow: hidden;
    background-color: #fff;
    cursor: pointer;
    position: relative;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    height: 100%;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .product-list-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15); }
  .product-list-img-container { position: relative; height: 300px; overflow: hidden; }
  .product-list-img-container img { width: 100%; height: 100%; object-fit: cover; display: block; }
  .product-list-text { padding: 15px; text-align: center; min-height: 80px; }
  .product-list-name { font-size: 0.95rem; font-weight: 600; color: var(--text-color); margin-bottom: 5px; height: 40px; overflow: hidden; }
  .product-list-price { font-size: 1.1rem; font-weight: 700; color: var(--accent-color); }
  .product-list-footer {
    position: absolute; bottom: 0; left: 0; right: 0; width: 100%;
    background-color: rgba(13, 110, 253, 0.95); /* Tông màu xanh của Bootstrap */
    transform: translateY(100%); opacity: 0;
    transition: transform 0.3s ease, opacity 0.3s ease;
    height: 50px; display: flex; justify-content: stretch;
  }
  .product-list-card:hover .product-list-footer { opacity: 1; transform: translateY(0); }
  .footer-btn {
    flex: 1; height: 100%; border: none; color: #fff; background: transparent;
    font-size: 0.9rem; font-weight: 600; display: flex; align-items: center;
    justify-content: center; gap: 8px; cursor: pointer; transition: background-color 0.2s;
  }
  .btn-add-to-cart { border-right: 1px solid rgba(255,255,255,0.3); }
  .btn-detail:hover, .btn-add-to-cart:hover { background-color: rgba(255, 255, 255, 0.1); }
</style>
</head>
<body>

<!-- Nhúng Header (Giả sử bạn đã có file /library/header.html) -->
<header th:replace="~{/library/header :: header}"></header>

<main>
  <!-- CAROUSEL -->
  <div id="mainCarousel" class="carousel slide main-carousel carousel-fade" data-bs-ride="carousel" data-bs-interval="4000">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="0" class="active"></button>
      <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="1"></button>
      <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="2"></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active" style="background-image: url('https://tn.com.ar/resizer/v2/los-terrenos-las-distancias-los-ritmos-y-las-exigencias-seran-diferentes-a-tus-entrenamientos-en-otras-partes-del-ano-foto-shutterstock-XQ3CADM4TZPTBI33DXC6P6AHLY.jpg?auth=0e8721df902a795351454cdeeb718a44c9f12dcf0addeacaee75d3d829558e6f&width=767');">
        <div class="carousel-caption">
          <h1 class="caption-title">SUMMER COLLECTION</h1>
          <p class="caption-subtitle">Khám phá bộ sưu tập thời trang thể thao mới nhất cho mùa hè năng động.</p>
          <a th:href="@{/san-pham}" class="btn-slide-action">MUA NGAY</a>
        </div>
      </div>
      <div class="carousel-item" style="background-image: url('https://product.hstatic.net/200000650139/product/tvv07200_b8b681a667df46c68dd94f065fcbce48_grande.jpg');">
        <div class="carousel-caption">
          <h1 class="caption-title">WOMEN ACTIVE</h1>
          <p class="caption-subtitle">Tự tin bứt phá giới hạn với trang phục tập luyện chuyên nghiệp.</p>
          <a th:href="@{/san-pham}" class="btn-slide-action">XEM CHI TIẾT</a>
        </div>
      </div>
      <div class="carousel-item" style="background-image: url('https://aokhoacdu.com/wp-content/uploads/2020/06/ao-khoac-the-thao-adidas-2020.jpg');">
        <div class="carousel-caption">
          <h1 class="caption-title">FALL WINTER 2024</h1>
          <p class="caption-subtitle">Ấm áp và phong cách với BST Thu Đông mới nhất đã lên kệ.</p>
          <a th:href="@{/san-pham}" class="btn-slide-action">KHÁM PHÁ</a>
        </div>
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
    <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
  </div>

  <!-- DANH MỤC SẢN PHẨM -->
  <section class="container section-container">
    <div class="section-header">
      <h2 class="section-title">Danh Mục Nổi Bật</h2>
      <p class="section-subtitle">Lựa chọn sản phẩm theo phong cách yêu thích của bạn.</p>
    </div>
    <div class="row row-cols-2 row-cols-md-3 row-cols-lg-5 g-4">
      <div class="col"><a th:href="@{/san-pham(category='ao-khoac')}" class="category-card"><div class="img-wrapper"><img src="https://n7media.coolmate.me/uploads/September2025/ao-khoac-the-thao-track-jacket-essential-xam-bid-grey-1.jpg" alt="Áo khoác"></div><h5 class="category-name">ÁO KHOÁC</h5></a></div>
      <div class="col"><a th:href="@{/san-pham(category='ao-nam')}" class="category-card"><div class="img-wrapper"><img src="https://pos.nvncdn.com/a36e05-151378/ps/20241128_TyLUzfgv9J.jpeg?v=1732776975" alt="Áo nam"></div><h5 class="category-name">ÁO NAM</h5></a></div>
      <div class="col"><a th:href="@{/san-pham(category='ao-nu')}" class="category-card"><div class="img-wrapper"><img src="https://product.hstatic.net/200000650139/product/tvv07200_b8b681a667df46c68dd94f065fcbce48_grande.jpg" alt="Áo nữ"></div><h5 class="category-name">ÁO NỮ</h5></a></div>
      <div class="col"><a th:href="@{/san-pham(category='ao-polo')}" class="category-card"><div class="img-wrapper"><img src="https://victeam.co/wp-content/uploads/2022/02/A43-xanh-bich-e1645301099369.jpg" alt="Áo polo"></div><h5 class="category-name">ÁO POLO</h5></a></div>
      <div class="col"><a th:href="@{/san-pham(category='ao-thun')}" class="category-card"><div class="img-wrapper"><img src="https://product.hstatic.net/200000805635/product/do_de94001dd04048c2bb32eaac7d4f7a2d_1024x1024.png" alt="Áo thun"></div><h5 class="category-name">ÁO THUN</h5></a></div>
    </div>
  </section>

  <!-- BANNER GRID -->
  <section class="container-fluid p-0">
    <div class="row g-0">
      <div class="col-md-6">
        <a th:href="@{/san-pham(gender='nam')}" class="text-decoration-none d-block">
          <div class="banner-item" style="background-image: url('https://tn.com.ar/resizer/v2/los-terrenos-las-distancias-los-ritmos-y-las-exigencias-seran-diferentes-a-tus-entrenamientos-en-otras-partes-del-ano-foto-shutterstock-XQ3CADM4TZPTBI33DXC6P6AHLY.jpg?auth=0e8721df902a795351454cdeeb718a44c9f12dcf0addeacaee75d3d829558e6f&width=767');">
            <div class="banner-content">
              <h2 class="banner-title">MEN'S COLLECTION</h2>
              <button class="btn-banner mt-2">KHÁM PHÁ NGAY</button>
            </div>
          </div>
        </a>
      </div>
      <div class="col-md-6">
        <a th:href="@{/san-pham(gender='nu')}" class="text-decoration-none d-block">
          <div class="banner-item" style="background-image: url('https://thanhnien.mediacdn.vn/uploaded/minhtan/2021_07_04/2021-07-03t131214z_1158724332_up1eh7310oc7r_rtrmadp_3_tennis-wimbledon_DCFS.jpg?width=500');">
            <div class="banner-content">
              <h2 class="banner-title">WOMEN'S COLLECTION</h2>
              <button class="btn-banner mt-2">KHÁM PHÁ NGAY</button>
            </div>
          </div>
        </a>
      </div>
    </div>
  </section>

  <!-- SẢN PHẨM MỚI VỀ -->
  <section class="container section-container">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="section-title mb-0" style="text-align: left;">Sản Phẩm Mới Nhất</h2>
      <a th:href="@{/san-pham}" class="text-decoration-none text-dark fw-bold">Xem tất cả <i class="fas fa-arrow-right"></i></a>
    </div>

    <div class="row row-cols-2 row-cols-md-4 g-4">
      <div class="col">
        <div class="product-card">
          <div class="img-container">
            <img src="https://vinsport.vn/my_uploads/2023/12/Bo-quan-ao-khoac-ni-thu-dong-xuan-Suvec-Wika-chinh-hang-nhieu-mau-kieu-dang-the-thao-moi-2024-1.jpg" alt="Product image">
            <span class="product-tag" style="background-color: var(--primary-color);">NEW</span>
          </div>
          <div class="info">
            <h6 class="product-name">Bộ gió thể thao Wika phối màu</h6>
            <div class="product-price">499.000đ</div>
            <button class="btn btn-dark btn-sm add-to-cart-btn">Thêm vào giỏ</button>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="product-card">
          <div class="img-container">
            <img src="https://bizweb.dktcdn.net/100/481/348/products/z4147260213030-0bc9a3e8796f400a2e44729000478a01-1677660244570.jpg?v=1680768222003" alt="Product image">
            <span class="product-tag" style="background-color: #ff9f43;">HOT</span>
          </div>
          <div class="info">
            <h6 class="product-name">Quần Jogger Thể Thao Vải Nỉ</h6>
            <div class="product-price">250.000đ</div>
            <button class="btn btn-dark btn-sm add-to-cart-btn">Thêm vào giỏ</button>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="product-card">
          <div class="img-container">
            <img src="https://namfashion.com/home/wp-content/uploads/2024/07/Bo-quan-ao-the-thao-exr-cao-cap-xuat-khau-ha-noi-12.jpg" alt="Product image">
          </div>
          <div class="info">
            <h6 class="product-name">Bộ nỉ nam cao cấp EXR</h6>
            <div class="product-price">650.000đ</div>
            <button class="btn btn-dark btn-sm add-to-cart-btn">Thêm vào giỏ</button>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="product-card">
          <div class="img-container">
            <img src="https://product.hstatic.net/1000312752/product/dsc05677_8e359d557e824b608c69ee5717fe76fc_master.jpg" alt="Product image">
            <span class="product-tag" style="background-color: #6c757d;">SOLD OUT</span>
          </div>
          <div class="info">
            <h6 class="product-name">Set thể thao nữ phối màu</h6>
            <div class="product-price">320.000đ</div>
            <button class="btn btn-secondary btn-sm add-to-cart-btn" disabled>Hết hàng</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- VIDEO SECTION -->
  <section class="video-section">
    <div class="container">
      <h2 class="section-title mb-5">Làm Chủ Phong Cách Của Bạn</h2>
      <div class="ratio ratio-16x9 mx-auto" style="max-width: 900px;">
        <iframe src="https://www.youtube.com/embed/DlUyuNRTp8Y?si=GkFXQGchyOfx4aN-" title="YouTube video" allowfullscreen loading="lazy"></iframe>
      </div>
    </div>
  </section>
</main>

<!-- Nhúng Footer (Giả sử bạn đã có file /library/footer.html) -->
<footer th:replace="~{/library/footer :: footer}"></footer>

<!-- NÚT MESSENGER -->
<a href="https://m.me/yourpage" target="_blank" class="floating-chat-btn position-fixed bottom-0 end-0 m-4 p-3 text-white rounded-circle shadow-lg">
  <i class="fab fa-facebook-messenger fs-4"></i>
</a>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>